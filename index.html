<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Untuk Kamu ðŸŒ™</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}

body{
    height:100vh;
    overflow:hidden;
    background:black;
    color:white;
    display:flex;
    justify-content:center;
    align-items:center;
}

/* Galaxy */
canvas{
    position:fixed;
    top:0;
    left:0;
    z-index:-1;
}

/* Card */
.card{
    width:420px;
    padding:35px;
    border-radius:25px;
    background:rgba(255,255,255,0.08);
    backdrop-filter:blur(15px);
    text-align:center;
    box-shadow:0 20px 60px rgba(0,0,0,0.6);
    position:relative;
}

h2{color:#ff9ecf;margin-bottom:15px}
p{min-height:90px;margin-bottom:20px;line-height:1.6}

input{
    padding:10px;
    border-radius:20px;
    border:none;
    width:80%;
    text-align:center;
    margin-bottom:15px;
}

button{
    padding:10px 20px;
    border:none;
    border-radius:25px;
    margin:10px;
    font-weight:bold;
    cursor:pointer;
    transition:0.3s;
}

.yes{background:#ff4b7d;color:white}
.yes:hover{background:#ff1f5a}

.no{
    background:#ccc;
    position:absolute;
}
</style>
</head>
<body>

<canvas id="galaxy"></canvas>

<div class="card" id="box">
<h2>Hai Kamu ðŸŒŒ</h2>
<p>Sebelum mulai... tulis dulu nama kamu ya.</p>
<input type="text" id="nama" placeholder="Nama kamu...">
<br>
<button class="yes" onclick="start()">Mulai</button>
</div>

<!-- Musik Slow Romantic -->
<audio id="music" autoplay loop>
<source src="https://files.freemusicarchive.org/storage-freemusicarchive-org/music/no_curator/Scott_Holmes_Music/Romantic/Romantic_Dreams.mp3" type="audio/mp3">
</audio>

<script>

/* Galaxy Background */
const canvas=document.getElementById("galaxy");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let stars=[];
for(let i=0;i<250;i++){
    stars.push({
        x:Math.random()*canvas.width,
        y:Math.random()*canvas.height,
        r:Math.random()*1.5,
        s:Math.random()*0.5
    });
}

function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="white";
    stars.forEach(star=>{
        ctx.beginPath();
        ctx.arc(star.x,star.y,star.r,0,Math.PI*2);
        ctx.fill();
        star.y+=star.s;
        if(star.y>canvas.height) star.y=0;
    });
    requestAnimationFrame(animate);
}
animate();

/* Story */
let cerita=[
"Sejak pertama kali aku kenal kamu...",
"Ada sesuatu yang berbeda yang nggak bisa aku jelasin.",
"Setiap senyum kamu terasa seperti cahaya kecil di hidup aku.",
"Aku coba bersikap biasa aja...",
"Tapi kenyataannya, kamu selalu berhasil bikin jantung aku deg-degan.",
"Dan malam ini, di bawah langit penuh bintang ini...",
"Aku nggak mau lagi cuma diam."
];

let i=0;
let nama="";

function start(){
    nama=document.getElementById("nama").value;
    if(nama===""){alert("Isi dulu namanya ya ðŸ˜Š");return;}
    next();
}

function next(){
    if(i<cerita.length){
        document.getElementById("box").innerHTML=
        "<h2>Untuk "+nama+" âœ¨</h2><p id='text'></p><button class='yes' onclick='next()'>Lanjut</button>";
        typeWriter(cerita[i]);
        i++;
    }else{
        nembak();
    }
}

function typeWriter(text){
    let j=0;
    document.getElementById("text").innerHTML="";
    function typing(){
        if(j<text.length){
            document.getElementById("text").innerHTML+=text.charAt(j);
            j++;
            setTimeout(typing,35);
        }
    }
    typing();
}

/* Confession */
function nembak(){
    document.getElementById("box").innerHTML=
    "<h2>"+nama+" ðŸ’–</h2>"+
    "<p>Soâ€¦ will you be mine</p>"+
    "<button class='yes' onclick='yesAnswer()'>Yes ðŸ’•</button>"+
    "<button class='no' id='noBtn'>No</button>";

    const noBtn=document.getElementById("noBtn");
    noBtn.addEventListener("mouseover",moveNo);
    noBtn.addEventListener("click",moveNo);
}

function moveNo(){
    const btn=document.getElementById("noBtn");
    btn.style.top=Math.random()*300+"px";
    btn.style.left=Math.random()*300+"px";
}

/* Fireworks + WA */
function yesAnswer(){

    // Fireworks effect
    for(let k=0;k<100;k++){
        ctx.fillStyle="hsl("+Math.random()*360+",100%,60%)";
        ctx.beginPath();
        ctx.arc(Math.random()*canvas.width,
                Math.random()*canvas.height/2,
                5,0,Math.PI*2);
        ctx.fill();
    }

    document.getElementById("box").innerHTML=
    "<h2>ðŸ’– Kamu bilang YES ðŸ’–</h2>"+
    "<p>Ini mungkin awal dari cerita paling indah âœ¨</p>";

    // Auto WhatsApp
    setTimeout(()=>{
        let pesan="halo bang love u ðŸ’–";
        window.open("https://wa.me/6285296377500?text="+encodeURIComponent(pesan));
    },2000);
}

</script>
</body>
</html>